#nullable enable
using Core.DataManagement;
using Core.Serialization;

namespace Core.WorldData.Data
{
	public struct WorldCraftedExploitData : ISerializable<WorldRevision>, IDataWithId
	{
		private ObjectId id;
		private ObjectId computerId;
		private string exploitName;
		private string payloadName;
		private string filePath;

		/// <inheritdoc />
		public ObjectId InstanceId
		{
			get => id;
			set => id = value;
		}

		public ObjectId Computer
		{
			get => computerId;
			set => computerId = value;
		}

		public string FilePath
		{
			get => filePath;
			set => filePath = value;
		}

		public string Exploit
		{
			get => exploitName;
			set => exploitName = value;
		}

		public string Payload
		{
			get => payloadName;
			set => payloadName = value;
		}
		
		/// <inheritdoc />
		public void Serialize(IRevisionedSerializer<WorldRevision> serializer)
		{
			SerializationUtility.SerializeAtRevision(ref id, serializer, WorldRevision.AddedExploitCrafting, default);
			SerializationUtility.SerializeAtRevision(ref computerId, serializer, WorldRevision.AddedExploitCrafting, default);
			SerializationUtility.SerializeAtRevision(ref exploitName, serializer, WorldRevision.AddedExploitCrafting, default);
			SerializationUtility.SerializeAtRevision(ref payloadName, serializer, WorldRevision.AddedExploitCrafting, default);
			SerializationUtility.SerializeAtRevision(ref filePath, serializer, WorldRevision.AddedExploitCrafting, default);
		}
	}
}